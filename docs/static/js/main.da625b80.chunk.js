(this.webpackJsonppixabay=this.webpackJsonppixabay||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(27),s=n.n(r),i=(n(33),n(34),n(6)),o=n.n(i),l=n(12),u=n(4),j=n(28),d=n.n(j),m=function(){var e=Object(l.a)(o.a.mark((function e(t,n,c){var a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"22338182-d32033ca73cb03d5e32127cf6",a="https://pixabay.com/api/?key=".concat("22338182-d32033ca73cb03d5e32127cf6","&q=").concat(encodeURI(t),"&per_page=").concat(n,"&page=").concat(c),e.next=5,d.a.get(a);case 5:return r=e.sent,s=r.data,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.error("GET_IMAGES_ERROR",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,c){return e.apply(this,arguments)}}(),b=n(5),g=n(17),f=n(0),O=function(e){var t=e.message,n=e.close;return Object(f.jsx)("div",{className:"mt-2",children:Object(f.jsxs)("div",{className:"alert alert-dismissible alert-primary",children:[Object(f.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return n(!1)}}),Object(f.jsxs)("h4",{children:["ERROR: ",t]})]})})},h=function(e){var t=e.handleQuery,n=e.currentPage,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(u.a)(t,2),a=n[0],r=n[1];return[a,function(e){var t=e.target;r(Object(g.a)(Object(g.a)({},a),{},Object(b.a)({},t.name,t.value)))},function(){r(e)}]}({search:""}),r=Object(u.a)(a,3),s=r[0],i=r[1],o=r[2],l=s.search,j=Object(c.useState)(!1),d=Object(u.a)(j,2),m=d[0],h=d[1];return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:"text-center py-4",children:"Pixabay - Banco de imagenes"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===l.trim()||l.trim().length<2?h(!0):(n(1),t(l),h(!1),o())},className:"row",children:[Object(f.jsxs)("div",{className:"form-group col-md-8",children:[Object(f.jsx)("label",{htmlFor:"search",id:"label-search",className:"col-form-label",children:"Buscar imagenes"}),Object(f.jsx)("input",{id:"search",type:"search",name:"search",value:l,onChange:i,className:"form-control form-control-lg",placeholder:"Busca una imagen, ejemplo futbol, caf\xe9, casas, etc."})]}),Object(f.jsx)("div",{className:"form-group col-md-4 d-flex align-items-end",children:Object(f.jsx)("button",{type:"submit",className:"form-control form-control-lg my-2 my-md-0 btn btn-lg btn-primary",children:"Buscar"})})]}),m&&Object(f.jsx)(O,{message:"Agrega un t\xe9rmino de b\xfasqueda",close:h})]})},x=function(e){var t=e.pages,n=e.currentPage,a=e.handlePageSize,r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1];return Object(f.jsxs)("div",{className:"container my-sm-2",children:[Object(f.jsx)("div",{className:"form-group col-md-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-info btn-lg dropdown form-control form-control-lg",onClick:function(){return function(e){o(!e)}(i)},children:Object(f.jsx)("span",{className:"dropdown-toggle",children:"Ver"})})}),i&&Object(f.jsx)("div",{className:"dropdown-menu drop-down mt-1",children:t&&t.map((function(e,t){return Object(f.jsx)("li",{className:"dropdown-item item-drop-down",onClick:function(){return function(e){n(1),a(e),o(!1)}(e)},children:e},"".concat(e,"-").concat(t))}))})]})},p=n(8),v=n(10),N=function(e){var t=e.tags,n=e.likes,c=e.views,a=e.comments,r=e.downloads,s=e.previewURL,i=e.largeImageURL;return Object(f.jsx)("div",{className:"card border-secondary m-3 card-img",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("img",{src:s,alt:t,className:"card-img-top"}),Object(f.jsxs)("div",{className:"py-2 d-flex align-items-center justify-content-between flex-wrap",children:[Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)(p.a,{icon:v.c,className:"icon"}),Object(f.jsx)("p",{className:"text",children:c})]}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)(p.a,{icon:v.d,className:"icon"}),Object(f.jsx)("p",{className:"text",children:n})]}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)(p.a,{icon:v.a,className:"icon"}),Object(f.jsx)("p",{className:"text",children:a})]}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)(p.a,{icon:v.b,className:"icon"}),Object(f.jsx)("p",{className:"text",children:r})]})]}),Object(f.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:"Ver imagen con mejor calidad"})]})})},w=function(e){var t=e.images;return Object(f.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:t&&t.map((function(e){return Object(f.jsx)(N,{tags:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,previewURL:e.previewURL,largeImageURL:e.largeImageURL},e.id)}))})},y=n(11),C=n.n(y),P=n(14),S="...",k=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))},R=function(e){var t=e.pageSize,n=e.className,a=e.totalCount,r=e.currentPage,s=e.siblingCount,i=e.onPageChange,o=function(e){var t=e.totalCount,n=e.pageSize,a=e.siblingCount,r=void 0===a?1:a,s=e.currentPage;return Object(c.useMemo)((function(){var e=Math.ceil(t/n);if(r+5>=e)return k(1,e);var c=Math.max(s-r,1),a=Math.min(s+r,e),i=c>2,o=a<e-2,l=1,u=e;if(!i&&o){var j=k(1,3+2*r);return[].concat(Object(P.a)(j),[S,e])}if(i&&!o){var d=k(e-(3+2*r)+1,e);return[l,S].concat(Object(P.a)(d))}if(i&&o){var m=k(c,a);return[l,S].concat(Object(P.a)(m),[S,u])}}),[t,n,r,s])}({currentPage:r,totalCount:a,siblingCount:s,pageSize:t});if(0===r||o.length<2)return null;var l=o[o.length-1];return Object(f.jsxs)("ul",{className:C()("pagination-container",Object(b.a)({},n,n)),children:[Object(f.jsx)("li",{className:C()("pagination-item",{disabled:1===r}),onClick:function(){i(r-1)},children:Object(f.jsx)("div",{className:"arrow left"})}),o.map((function(e,t){return"..."===e?Object(f.jsx)("li",{className:"pagination-item dots",children:"\u2026"},"Page-".concat(t,"-").concat(e)):Object(f.jsx)("li",{className:C()("pagination-item",{selected:e===r}),onClick:function(){return i(e)},children:e},"Page-".concat(t,"-").concat(e))})),Object(f.jsx)("li",{className:C()("pagination-item",{disabled:r===l}),onClick:function(){i(r+1)},children:Object(f.jsx)("div",{className:"arrow right"})})]})};R.defaultProps={siblingCount:1,className:""};var L=R,I=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),i=s[0],j=s[1],d=Object(c.useState)(10),b=Object(u.a)(d,2),g=b[0],O=b[1],p=Object(c.useState)(0),v=Object(u.a)(p,2),N=v[0],y=v[1],C=Object(c.useState)(1),P=Object(u.a)(C,2),S=P[0],k=P[1];return Object(c.useEffect)((function(){""!==n&&(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,g,S);case 2:t=e.sent,j(t.hits),y(t.totalHits);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),window.scrollTo(0,0))}),[n,g,S]),Object(f.jsxs)("div",{children:[Object(f.jsx)(h,{handleQuery:function(e){a(e)},currentPage:k}),Object(f.jsx)(x,{pages:[10,20,30,40,50],currentPage:k,handlePageSize:O}),Object(f.jsx)(w,{images:i}),Object(f.jsx)(L,{pageSize:g,totalCount:N,currentPage:S,onPageChange:function(e){return k(e)}})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root")),U()}},[[58,1,2]]]);
//# sourceMappingURL=main.da625b80.chunk.js.map